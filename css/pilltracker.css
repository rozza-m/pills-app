@font-face {
  font-family: 'Sora';
  src: url('../resources/Sora.ttf') format('truetype');
}

:root {
  --invert: #FFFFFFFF;
  --primary-1: #614E89FF;
  --primary-1-light: #E5DBFBFF;
  --primary-1-dark: #392A58FF;
  --primary-2: #FF889EFF;
  --primary-2-light: #FFD4DCFF;
  --primary-2-dark: #870C23;
  --default: #000000FF;
  --drug-paracetamol: #88B8FFFF;
  --drug-biscuit: #E19F79FF;
  --drug-dihydrocodeine: #7fd5d8;
  --drug-enaxaparin: #FFE588FF;
  --drug-iron: #FF756CFF;
  --drug-ibuprofen: #FF889EFF;
  --tertiary-yes: #57FA57FF;
  --tertiary-no: #FA5757FF;
}

:root {
  --settings-icon: url(
  'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path fill-rule="evenodd" d="M24 .6A3 3 0 0 1 27 .2c2.1.8 4.2 2 6 3.5a3 3 0 0 1 1 2.6 7 7 0 0 0 .8 4.2c.7 1.1 1.6 2 2.8 2.6l.5.2a3 3 0 0 1 1.7 2.3c.4 2.2.4 4.6 0 6.8a3 3 0 0 1-1.5 2.1l-.2.2a7 7 0 0 0-3.3 2.8 7 7 0 0 0-.8 4.2c0 1-.2 2-1 2.6a20 20 0 0 1-6 3.5 3 3 0 0 1-2.8-.4c-1.3-.9-2.6-1.4-4.1-1.4s-2.8.5-4 1.4a3 3 0 0 1-2.9.4 20 20 0 0 1-6-3.5 3 3 0 0 1-1-2.6 7 7 0 0 0-.8-4.2c-.7-1.1-1.6-2-2.8-2.6l-.4-.2a3 3 0 0 1-1.8-2.3c-.4-2.2-.4-4.6 0-6.8a3 3 0 0 1 1.5-2.1l.3-.2a7 7 0 0 0 3.2-2.8A7 7 0 0 0 6 6.3a3 3 0 0 1 1-2.6 20 20 0 0 1 6-3.5 3 3 0 0 1 2.8.4C17.2 1.5 18.6 2 20 2s2.8-.5 4-1.4zm2 3.6a10.9 10.9 0 0 1-12 0 16 16 0 0 0-3.9 2.2c.2 2-.2 4.2-1.4 6.1-1 2-2.7 3.3-4.5 4.3-.2 1.4-.2 3 0 4.4a10.8 10.8 0 0 1 6 10.4 16 16 0 0 0 3.8 2.2c1.8-1.1 3.8-1.8 6-1.8s4.3.7 6 1.8a16 16 0 0 0 3.9-2.2c-.2-2 .3-4.2 1.4-6.1 1-2 2.7-3.3 4.5-4.3.3-1.4.3-3 0-4.4a10.9 10.9 0 0 1-6-10.4A16 16 0 0 0 26 4.2zM20 11a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm0 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" clip-rule="evenodd"/></svg>');
  --history-icon: url(
  'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M37.3 10a20 20 0 0 1-32 23.6 2 2 0 0 1 3-2.7 16 16 0 1 0-4.1-13l2.5-.7c2.1-.6 3.6 2 2.2 3.5L4.4 26a2.2 2.2 0 0 1-3.8-1 20 20 0 0 1 36.7-15zM20 8a2 2 0 0 1 2 2v9.2l5.4 5.4a2 2 0 1 1-2.8 2.8l-6-6A2 2 0 0 1 18 20V10a2 2 0 0 1 2-2z"/></svg>');
  --history-icon-outsidepart: url(
  'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M 37.3 10 a 20 20 0 0 1 -32 23.6 a 2 2 0 0 1 3 -2.7 a 16 16 0 1 0 -4.1 -13 l 2.5 -0.7 c 2.1 -0.6 3.6 2 2.2 3.5 L 4.4 26 a 2.2 2.2 0 0 1 -3.8 -1 a 20 20 0 0 1 36.7 -15"/></svg>');
  --history-icon-insidepart: url(
  'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M 20 8 a 2 2 0 0 1 2 2 v 9.2 l 5.4 5.4 a 2 2 0 1 1 -2.8 2.8 l -6 -6 A 2 2 0 0 1 18 20 V 10 a 2 2 0 0 1 2 -2"/></svg>');
  
  
  --plus-icon: url(
  'data:image/svg+xml,<svg viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 1C16.7909 1 15 2.79086 15 5V15H5C2.79086 15 1 16.7909 1 19V25C1 27.2091 2.79086 29 5 29H15V39C15 41.2091 16.7909 43 19 43H25C27.2091 43 29 41.2091 29 39V29H39C41.2091 29 43 27.2091 43 25V19C43 16.7909 41.2091 15 39 15H29V5C29 2.79086 27.2091 1 25 1H19Z" fill="white" stroke="black" stroke-width="2"/></svg>');
}

@keyframes rotate-in {
  0% { transform:rotate(-360deg);
     }
  100% { transform:rotate(0);
       }
}
@keyframes fade-down {
  0% { transform:translateY(0);
       opacity:100%;
     }
  100% { transform:translateY(30vh);
       opacity:0;
       }
}
@keyframes fade-up {
  0% { transform:translateY(30vh);
       opacity:0%;
     }
  100% { transform:translateY(0);
       opacity:100%;
       }
}

body {
    overflow: hidden;
    font-family: 'Sora', 'Ubuntu', 'Sans-Serif';
    height: 100vh;
    transition: background 500ms;
    background: var(--primary-1-light);
    -webkit-user-select: none;
    user-select: none;
}

main {
    height: 100%;
    width: 100%;
}

body > header {
    height: 12vh;
    /* border: 1px solid red; */
    font-size: 1.4vh;
    color: var(--primary-1-dark);
    overflow: hidden;
}

/* HEADER */


header ul {
    display: flex;
    flex-direction: row;
    justify-content: center;
    margin: 1vh;
}

header li {
    width: auto;
    width: 27vw;
    text-align: center;
    transition: font-weight 1000ms;
}

header .icon {
    display: block;
    height: 5vh;
    width: 5vh;
    background-color: var(--primary-1);
    margin: auto;
    margin-bottom: 1vh;
    transition: rotate 800ms, background 300ms;
}


#history-icon{
  -webkit-mask: var(--history-icon-outsidepart);
}
#history-icon-2{
  -webkit-mask: var(--history-icon-insidepart);
}
#settings-icon{
  -webkit-mask: var(--settings-icon);
}


/* Header and navigation */

body.history {
    background: var(--primary-2-light);
}
body.settings {
    background: var(--primary-1-light);
}

body.history>header li#history-menu-item, body.settings>header li#settings-menu-item {
    font-weight: 600;
}

body.history div#history-icon, body.settings div#settings-icon {
    rotate: -60deg;
}
body.history #history-menu-item div.icon,
body.settings #settings-menu-item div.icon {
    background-color: var(--primary-1-dark);
}

body.history>header div.icon, body.settings>header div.icon {
    background-color: var(--primary-1);
}

body>header li#history-menu-item::after, 
body>header li#settings-menu-item::after {
    /*this is deselected state*/
    content: "";
    display: block;
    background: var(--invert);
    width: 3vh;
    height: 3vh;
    rotate: 45deg;
    position: relative;
    top: 4vh;
    margin: auto;
    transition: top 300ms;
}
body.history>header li#history-menu-item::after, 
body.settings>header li#settings-menu-item::after {
  /*this is selected state*/
  top: 2vh;
}
 
div#history, div#settings {
    left: 4vw;
    right: 4vw;
    background-color: var(--invert);
    padding: 4vh;
    overflow-y: scroll;
    box-shadow: 0.8vh 0.9vh 0 rgba(0,0,0,0.2);
}
div#history{
}
div#settings{
}

#grid,
body.history #history,
body.settings #settings
{
  opacity:100%;
  visibility:visible;
  transition: opacity 300ms, visibility 300ms;
  transition-delay: 0ms, 0ms;
  scrollbar-width: 0;
  -webkit-scrollbar-width: 0px;
}
#grid::-webkit-scrollbar,
body.history #history::-webkit-scrollbar,
body.settings #settings::-webkit-scrollbar{
  display:none;
}

body.settings div#grid, 
body.history div#grid,
div#history,
div#settings
{
    opacity: 0;
    visibility: hidden;
    transition: opacity 300ms, visibility 0ms;
    transition-delay: 0ms, 300ms;
}

header .extra-icon {
  position: absolute;left: 50%;margin-left: -2.5vh;top: 0;
}

/* GRID & CONTENT */

main > div {
    /* height: 100%; */
    border-top-left-radius: 4vh;
    border-top-right-radius: 4vh;
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    top: 12vh;
}

div#grid {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-content: center;
    justify-content: center;
    color: var(--invert);
    /* background-color: var(--primary-1); */
}

#grid .pill {
    width: 44vw;
    padding: 1vh 2vw;
}

.pill
    header {
    margin: auto;
    width: moz-fit-content;
    width: fit-content;
    padding: 4vw 0;
    font-size: 5vw;
    font-weight: 600;
    height: 5.5vw;
}

.pill article {
    font-size: 3.3vw;
    text-align: center;
    font-weight: 200;
    min-height: 10vw;
    padding: 0 5vw;
}

.pill {
    width: 40vw;
    padding: 3vw;
}

.pill .pill-text {
  background: var(--primary-1);
  border: 0.5vh solid var(--primary-1-dark);
  border-radius: 3vh;
  top: -7vh;
  padding-top: 7vh;
  padding-bottom: 2vh;
  box-shadow: 0.5vh 0.5vh rgba(0,0,0,0.1);
}

/*.pill.can-take .big-button,
    dialog button.submit.can-take {
  outline-offset: 0;
    outline-color: var(--tertiary-yes);
    outline-style: solid;
      
}

.pill.dont-take .big-button,
    dialog button.submit.dont-take {
  outline-offset: 0;
    outline-color: var(--tertiary-no);
    outline-style: solid;
}
*/
.pill.can-take .big-button,
    dialog button.submit.can-take {
      background-color: var(--drug-paracetamol)
    }

.pill.dont-take .big-button .icon,
    dialog button.submit.dont-take .icon {
      rotate: 45deg;
    }


div#no-pills-configured {
  /* padding-bottom:2vh; */
  color:var(--primary-1-dark);
  max-width: 70vw;
  text-align:center;
  bottom:vh;
}

div#no-pills-configured h1{
  margin-bottom:15vh;
  font-size:3vh
}

/* button stuff */

.pill .big-button,
    dialog button.submit {
    height: 10vh;
    width: 10vh;
    background-color: var(--primary-2);
    border-radius: 10vh;
    margin: auto;
    border: 0.4vh solid var(--primary-1-dark);
    box-shadow: inset 0.2vh 0.2vh 0 white, inset -0.3vh -0.3vh 0 rgba(0,0,0,0.4), 0.3vh 0.3vh 0 rgba(0,0,0,0.4);
    filter: drop-shadow(inset 5px 5px 0 black);
    transition: box-shadow 0.2s 0s, transform 0.2s 0s, background 0.5s 0s;
    z-index: 2;
    outline: none;
    }

.pill .icon,
    dialog button.submit .icon {
    position: absolute;
    left: 2vh;
    right: 2vh;
    top: 2vh;
    bottom: 2vh;
    background: var(--plus-icon);
    transition: transform 0.5s 0s;
    background-repeat: no-repeat;
    /* border-radius: 4vh; */
    /* box-shadow: inset -0.2vh -0.2vh 0 white, inset 0.3vh 0.3vh 0 rgba(0,0,0,0.4); */
}
.pill:active .icon{
    transform: rotate(90deg);
    transition: 0.5s 0s;
}

.pill:active .big-button {
    transform: translate(0.2vh, 0.2vh);
    transition: box-shadow 0.2s 0s, transform 0.2s 0s, background 0.5s 0s;
}

.pill:active .pill-text {
    background: var(--primary-1-dark);
}

/*
.pill[
    data-pill="Paracetamol"] .big-button,
dialog[data-pill="Paracetamol"] button.submit{
    background-color: var(--drug-paracetamol);
}
.pill[
    data-pill="Biscuit"] .big-button,
dialog[data-pill="Biscuit"] button.submit{
    background-color: var(--drug-aspirin);
}
.pill[
    data-pill="Dihydrocodeine"] .big-button,
dialog[data-pill="Dihydrocodeine"] button.submit{
    background-color: var(--drug-dihydrocodeine);
}
.pill[
    data-pill="Enexaparin"] .big-button,
dialog[data-pill="Enexaparin"] button.submit{
    background-color: var(--drug-enexaparin);
}
.pill[
    data-pill="Iron"] .big-button,
dialog[data-pill="Iron"] button.submit{
    background-color: var(--drug-iron);
}
.pill[
    data-pill="Ibuprofen"] .big-button,
dialog[data-pill="Ibuprofen"] button.submit{
    background-color: var(--drug-ibuprofen);
}
*/

/* dialog */
dialog {
  width: 87vw;
    height:fit-content;
    background: var(--primary-1-light);
    padding: 0;
    border: 0.4vh solid var(--primary-1-dark);
    border-radius: 4vh;
    box-shadow: 0.6vh 0.6vh 0 var(--primary-1-dark);
    color: var(--primary-1-dark);
    animation-duration: 300ms;
    animation-timing-function: cubic-bezier(0, 0, 0, 1);
    animation-name: fade-up;
    text-align:center;
}
dialog header {
  height: 7.5vh;
  background: var(--invert);
  margin: 0;
  text-align: center;
  padding-top: 3vh;
  font-size: 9vw;
  font-weight: 600;
  font-feature-settings: "ss01" 1, "onum" 1;
  border-bottom: 0.4vh solid var(--primary-1-dark);
}


dialog::backdrop {
    position: fixed;
    inset: 0px;
    background: rgba(0, 0, 0, 0.1);
    transition:background 300ms;
}
    dialog.leaving button.submit .icon {
    transition-timing-function: cubic-bezier(1, -0.01, 1, 1);
    transition-duration: 500ms;
    transform: rotate(270deg);
}
    dialog.leaving {
    animation-duration: 300ms;
    animation-delay: 200ms;
    animation-timing-function: cubic-bezier(1, 0.01, 1, 1);
    animation-name: fade-down;
}
    dialog.leaving-fast{
    animation-delay: 0ms !important;
}
    dialog::backdrop {
    background: rgba(0,0,0,0.3);
    transition: 300ms;
}
    dialog.leaving::backdrop {
    background: rgba(0,0,0,0);
}

/* internal to dialog stuff */

.timespinner {
    width: 86%;
    margin: auto;
    background: var(--primary-1-dark);
    box-shadow: inset 0.5vh 0.5vh 0 rgb(0,0,0,0.5);
    border-radius: 4vh;
    height: 12vh;
    display: flex;
    flex-direction: row;
    justify-content: center;
}

.timespinner >
    div {
    width: 26%;
    text-align: center;
    height: 100%;
}

.timespinner .content {
    color: var(--invert);
    font-size: 5vh;
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    line-height: 12vh;
}

.timeselect .selectors {
    z-index: 2;
}

.timeselect .date {
    position: relative;
    width: 91%;
    margin: auto;
}
.timeselect .date .content{
    text-align:center;
    margin-top: 2vh;
    margin-bottom: 1.5vh;
    font-size: 5vw;
}
.timeselect .date .leftselector, .timeselect .date .rightselector{
    width: 15vw;
    position: absolute;
    top: -2vh;
    bottom: -8vw;
    padding: 0 2vw;
}

.timeselect .date .leftselector {
    left: 0;
}

.timeselect .date .rightselector {
    right: 0;
    text-align: right;
}

.ampm .content {
    text-transform: uppercase;
    font-size: 3vh;
    font-weight: 600;
}

.timespinner .upselector,
.timespinner .downselector,
.timespinner .selector {
    position: relative;
    height: 70%;
    width: 100%;
    z-index: 2;
}
.timespinner
    label{
  color: var(--primary-1-light);
    font-size: 7vw;
    transform: scaleY(0.5);
    display: inline-block;
    position: absolute;
    left: 0;
    right: 0;
}

.timespinner .ampm .selector {
    height: 100%;
    width: 27vw;
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

.timespinner .ampm
    label {
    transform: scaleY(0.5) rotate(90deg);
    left: 1vw;
    height: 8vw;
    left: 12vw;
}

.timespinner .upselector
    label {
    top: 1vh;
}

.timespinner .downselector
    label {
    bottom: 1.4vh;
}

.date .leftselector
    label, .date .rightselector label {
    font-size: 7vw;
    transform: scaleX(0.5);
    display: inline-block;
    top: 1.3vh;
    color: var(--primary-1-dark);
}

.timespinner .selectors {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-content: space-between;
    height: 16vh;
    top: -2vh;
}


.guidance {
    width: 80%;
    text-align: center;
    font-size: 4vw;
    margin: 2vh auto;
    font-weight: 400;
}

.guidance-part-2 {
    margin-top: 2vh;
}

.guidance-time {
    font-weight: 600;
    font-size: 5.5vw;
}
dialog button.submit {
    width: calc( 10vh + 40vw );
    margin: auto;
    display: block;
    font-size: 5vw;
    text-align: right;
    font-family: 'Sora';
    color: black;
    font-weight: 300;
    padding-right: 6vw;
    margin-bottom: 4vh;
    position: relative;
}

dialog button.submit .icon {
    aspect-ratio: 1;
    width: 5.4vh;
    animation-name: rotate-in;
    animation-duration: 1000ms;
    animation-iteration-count: 1;
    animation-timing-function: cubic-bezier(0, 0, 0.01, 1);
};

/* history */
#history button, #settings button{
  /*margin:auto;*/
}


#history button, #settings button, #no-pills-configured button, dialog.deletepillfromhistory button {
    margin: auto;
    font-family: 'Sora';
    text-align: center;
    display: inline-block;
    font-size: 5vw;
    width: 100%;
    background: var(--invert);
    border: 0.4vh solid var(--default);
    height: 6vh;
    border-radius: 3vh;
    box-shadow: inset -0.4vh -0.5vh 0 rgba(0,0,0,0.4);
    transition: box-shadow 200ms;
    margin-bottom: 2vh;
}

.date-row {
    font-size: 5.5vw;
    font-weight: 600;
    padding: 2vh 0vw 1vh;
    color: var(--default);
}

.pill-row {
    padding: 0.3vh 5vw 0.3vh 5vw;
    font-size: 4vw;
    font-weight: 300;
}


.pill-row::before, .pill-row::after{
  FONT-VARIANT: JIS04;
  content:"";
  display:block;
  width:1.2vh;
  height:1.2vh;
  border-bottom:0.3vh solid var(--tertiary-no);
  position:absolute;
  right:.8vh;
  top:0.3vh;
}
.pill-row::after{
  rotate:45deg;
  transform:translate(0.6vh, -0.6vh);
}
.pill-row::before{
  rotate:-45deg
}

span.history-time {
    width: 40%;
    text-align: right;
    display: inline-block;
    font-weight: 400;
}

span.history-pill {
    width: 60%;
    display: inline-block;
}

div#history-list {
    margin-bottom: 5vh;
}

#history button:active {
    box-shadow: inset 0.2vh 0.2vh 0 rgba(0,0,0,0.4);
}

dialog.deletepillfromhistory button.delete {
    width: auto;
    padding-left: 4vw;
    padding-right:4vw;
}


#settings h1 {
    font-size: 5vw;
    margin-bottom: 2vh;
    font-weight: 200;
}

#settings ul {
    margin-left: 4vw;
}


input[type='checkbox'] {
    width: 5vh;
    right: 0vw;
    display: inline-block;
    border: 0;
    height: 2.6vh;
    position: absolute;
    top:0;
    /* display: none; */
}
input[type='checkbox']:before {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    background: var(--invert);
    border: 0.4vh solid var(--default);
    border-radius: 2vh;
    transition: 1s all;
}
input[type='checkbox']:checked::before{
    background: var(--primary-1-light);
    box-shadow: 0 0 0 0.3vh var(--primary-1);
}
input[type='checkbox']:after {
    content: "―";
    color: var(--primary-1-light);
    font-size: 1.2vh;
    font-weight: 800;
    padding-left: 0.6vh;
    box-sizing: border-box;
    display: block;
    width: 2vh;
    height: 2vh;
    background: var(
    --primary-1);
    border-radius: 2vh;
    top: 0.6vh;
    left: 0.6vh;
    position:absolute;
    transition: 0.5s cubic-bezier(0.16, 0.49, 0.21, 1.44);
}
input[type="checkbox"]:checked::after {
    background: var(--primary-1-dark);
    left: 3vh;
    transform:rotate(270deg);
}

#settings li {
    width: 100%;
    margin: 1.5vh 0;
    box-sizing: border-box;
    border-left: 0.5vh solid transparent;
    padding-left:2vw;
    transition: 0.5s font-weight, 2s border;
    padding-right:6vh;
}

span.pill-name, .pill-dosing-info {
    font-size: 5vw;
}

#settings li.active {
  border-left: 0.5vh solid var(--primary-1);
  background: v;
}

#settings li.active .pill-name {
  font-weight:700;
}